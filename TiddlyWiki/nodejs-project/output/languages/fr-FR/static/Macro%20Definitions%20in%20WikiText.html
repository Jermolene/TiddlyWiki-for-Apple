<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.3.2-prerelease" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>Définitions de macros: TiddlyWiki — un carnet de notes web personnel et non linéaire
</title>
</head>
<body class="tc-body">
<p><div class="tc-static-alert"><div class="tc-static-alert-inner">This page is part of a static HTML representation of the TiddlyWiki at <a class="tc-tiddlylink-external" href="https://tiddlywiki.com/" rel="noopener noreferrer" target="_blank">https://tiddlywiki.com/</a></div></div>
</p>
<section class="tc-story-river tc-static-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists " data-tags="" data-tiddler-title="Macro Definitions in WikiText" role="article"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><button aria-expanded="false" aria-label="plus" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="Actions supplémentaires"></button><div class=" tc-reveal" hidden="true"></div><button aria-label="éditer" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Édite ce tiddler"></button><button aria-label="fermer" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Ferme ce tiddler"></button></span><span><h2 class="tc-title">Définitions de macros en WikiText</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class="tc-reveal"></div><div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a> 24 juin 2015 à 10h49</div></div><div class=" tc-reveal"><div class="tc-tags-wrapper"></div></div>






<div class="tc-tiddler-body tc-reveal"><p>Une <a class="tc-tiddlylink tc-tiddlylink-resolves" href="Macros.html">macro</a> est définie par l'utilisation du <a class="tc-tiddlylink tc-tiddlylink-resolves" href="Pragma.html">pragma</a> <code>\define</code>. Comme tout pragma, il peut seulement prendre place au début d'un tiddler.</p><p>La première ligne de la définition indique le nom de la macro suivi de ses paramètres. Chaque paramètre a un nom, et de façon optionnelle une valeur par défaut utilisée si aucune valeur n'est passée lors de l'appel de la macro. Les lignes qui suivent contiennent le texte de la macro (càd l'extrait de code représenté par le nom de la macro), jusqu'à l'apparition du <code>\end</code> :</p><pre><code>\define sayhi(name:"Bugs Bunny" address:"Rabbit Hole Hill")
Salut, Je suis $name$ et je vis à $address$.
\end
</code></pre><p>Vous pouvez éviter l'utilisation du marqueur final <code>\end</code>, en rédigeant toute la définition sur une seule ligne :</p><pre><code>\define sayhi(name:"Bugs Bunny") Salut, Je suis $name$.</code></pre><p>Une <a class="tc-tiddlylink tc-tiddlylink-resolves" href="Macro%2520Definition%2520Syntax.html">présentation</a> plus formelle de cette syntaxe est aussi disponible.</p><h2 class=""><a class="tc-tiddlylink tc-tiddlylink-missing" href="PlaceHolder.html">ZoneRéservée</a></h2><p>Les extraits de code peuvent utiliser des <a class="tc-tiddlylink tc-tiddlylink-missing" href="PlaceHolder.html">Zones Réservées</a> en paramètres. Il suffira de placer le nom du paramètre entre les signes dollar, comme <code>$ceci$</code>.</p><p>Il est aussi possible d'utiliser des <a class="tc-tiddlylink tc-tiddlylink-missing" href="PlaceHolder.html">Zones Réservées</a> comme <a class="tc-tiddlylink tc-tiddlylink-resolves" href="Variables.html">variables</a>. Il suffira de placer le nom de la variable (ou du nom de la macro)  entre les signes dollar entourés de parenthèses, comme <code>$(ceci)$</code>.</p><p>À la valeur actuelle du paramètre ou de la variable se substituera celle portée par le <a class="tc-tiddlylink tc-tiddlylink-missing" href="PlaceHolder.html">ZoneRéservée</a> lors de l'appel de la macro :</p><p>
<pre><code>\define say-hi-using-variables()
Salut, je suis $(name)$ et je vis à $(address)$.
\end

\define name() Bugs
</code></pre>
<div class="doc-example">
<span class=" tc-reveal">
	<div style="position: relative;"><div style="position: absolute; bottom: 0; right: 0;"><button class="tc-btn-invisible" title="Copie ce texte dans le presse-papier"><svg class="tc-image-copy-clipboard tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="8" rx="4" width="33" x="40" y="40"></rect><rect height="8" rx="4" width="17" x="40" y="82"></rect><rect height="8" rx="4" width="17" x="40" y="54"></rect><rect height="8" rx="4" width="33" x="40" y="96"></rect><rect height="8" rx="4" width="12" x="40" y="68"></rect><path d="M40 16H24c-4.419 0-8 3.59-8 8a8.031 8.031 0 000 .01v95.98a8.03 8.03 0 000 .01c0 4.41 3.581 8 8 8h80a7.975 7.975 0 005.652-2.34 7.958 7.958 0 002.348-5.652v-16.016c0-4.414-3.582-7.992-8-7.992-4.41 0-8 3.578-8 7.992V112H32V32h64v8.008C96 44.422 99.582 48 104 48c4.41 0 8-3.578 8-7.992V23.992a7.963 7.963 0 00-2.343-5.651A7.995 7.995 0 00104.001 16H88c0-4.41-3.585-8-8.007-8H48.007C43.588 8 40 11.582 40 16zm4-1.004A4.001 4.001 0 0148 11h32c2.21 0 4 1.797 4 3.996v4.008A4.001 4.001 0 0180 23H48c-2.21 0-4-1.797-4-3.996v-4.008z"></path><rect height="16" rx="8" width="66" x="62" y="64"></rect><path d="M84.657 82.343l-16-16v11.314l16-16a8 8 0 10-11.314-11.314l-16 16a8 8 0 000 11.314l16 16a8 8 0 1011.314-11.314z"></path></g></svg> copier dans le presse-papier</button></div></div>
	<pre><code>&lt;$set name="address" value="Rabbit Hole Hill"&gt;
&lt;&lt;say-hi-using-variables&gt;&gt;
&lt;/$set&gt;</code></pre>
</span>
<span class=" tc-reveal" hidden="true"></span>

<span class=" tc-reveal">
	<dl>
	<dd><button class="">Essayez</button></dd>
	</dl>
</span>
<span class=" tc-reveal" hidden="true"></span>
</div>
</p><h2 class="">Étendue</h2><p>Les macros peuvent être utilisées dans le tiddler où elles sont définies, ainsi que tous les tiddlers qui le transclus.</p><p>Pour étendre l'utilisation d'une macro à tous les tiddlers, définissez-la dans un tiddler étiqueté <code class="doc-tag"><a class="tc-tiddlylink tc-tiddlylink-missing" href="%2524%253A%252Ftags%252FMacro.html">$:/tags/Macro</a></code>.</p><p>Il est aussi possible de développer une macro dans un <a class="tc-tiddlylink-external" href="https://tiddlywiki.com/dev/index.html#JavaScript%20Macros" rel="noopener noreferrer" target="_blank">module JavaScript</a>. Les macros JavaScript sont disponibles dans tous les tiddlers, et offrent un maximum de flexibilité.</p><p>On peut importer dans un tiddler les définitions de macros d'une <a class="tc-tiddlylink tc-tiddlylink-resolves" href="Title%2520Selection.html">sélection</a> d'autres tiddlers en utilisant le widget <a class="tc-tiddlylink tc-tiddlylink-resolves" href="ImportVariablesWidget.html"><code class="doc-widget">$importvariables</code></a>.
</p></div>

</div></p>
</section>
</body>
</html>

