<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.3.2-prerelease" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>Coordinate Systems: TiddlyWiki — un carnet de notes web personnel et non linéaire
</title>
</head>
<body class="tc-body">
<p><div class="tc-static-alert"><div class="tc-static-alert-inner">This page is part of a static HTML representation of the TiddlyWiki at <a class="tc-tiddlylink-external" href="https://tiddlywiki.com/" rel="noopener noreferrer" target="_blank">https://tiddlywiki.com/</a></div></div>
</p>
<section class="tc-story-river tc-static-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists  tc-tagged-Concepts" data-tags="Concepts" data-tiddler-title="Coordinate Systems" role="article"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><button aria-expanded="false" aria-label="plus" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="Actions supplémentaires"></button><div class=" tc-reveal" hidden="true"></div><button aria-label="éditer" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Édite ce tiddler"></button><button aria-label="fermer" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Ferme ce tiddler"></button></span><span><h2 class="tc-title">Coordinate Systems</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class="tc-reveal"></div><div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a> 10 août 2022 à 21h16</div></div><div class=" tc-reveal"><div class="tc-tags-wrapper"><span class="tc-tag-list-item" data-tag-title="Concepts"><span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:#FF8383;
fill:#333333;
color:#333333;">Concepts</span><span class="tc-drop-down tc-reveal" hidden="true"></span></span></div></div>






<div class="tc-tiddler-body tc-reveal"><p><a class="tc-tiddlylink tc-tiddlylink-resolves" href="TiddlyWiki.html">TiddlyWiki</a> (primarily the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="RevealWidget.html">RevealWidget</a>) supports two coordinate systems for positioning popups (see <a class="tc-tiddlylink tc-tiddlylink-resolves" href="PopupMechanism.html">PopupMechanism</a> to learn more about popups).</p><p><span class="doc-from-version"><svg class="tc-image-warning tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><path d="M57.072 11c3.079-5.333 10.777-5.333 13.856 0l55.426 96c3.079 5.333-.77 12-6.928 12H8.574c-6.158 0-10.007-6.667-6.928-12l55.426-96zM64 37c-4.418 0-8 3.582-8 7.994v28.012C56 77.421 59.59 81 64 81c4.418 0 8-3.582 8-7.994V44.994C72 40.579 68.41 37 64 37zm0 67a8 8 0 100-16 8 8 0 000 16z" fill-rule="evenodd"></path></svg> Depuis : 5.2.4</span> We introduced absolute coordinates that may not work with all extensions and plugins. For maximum backwards compatibility, use absolute coordinates only where necessary.</p><h2 class="">Relative coordinate system</h2><p>The default coordinate system is relative to the nearest positioned ancestor element. This is either:</p><ul><li>an element with a non-static position, or</li><li>a <strong>td</strong>, <strong>th</strong>, <strong>table</strong> in case the element itself is static positioned.</li></ul><p>For tiddlers the nearest positioned ancestor element mostly is the body of the tiddler. Read the next chapter to learn about the exceptions.</p><p>Relative coordinates are expressed in the form <strong>(x,y,w,h)</strong>. Where <strong>x</strong> and <strong>y</strong> represent the position and <strong>w</strong> and <strong>h</strong> the width and height of the element.</p><h2 class="">Absolute coordinate system</h2><p>The relative coordinate system works flawless most of the time. Problems occure if the target element (for example, a popup) and the source element (the triggering button) do not share the same positioned ancestor element. This is often the case if the popup is declared outside a table and the triggering button is declared within a table cell. In this case the coordinate systems have different origins and the popup will be displayed in the wrong location.</p><p>Absolute coordinates can fix this problem by using the root element of the page (the upper-left corner of the page) as the origin of the coordinate system. Absolute coordinates are expressed in the form <strong>@(x,y,w,h)</strong>. Where <strong>x</strong> and <strong>y</strong> represent the position and <strong>w</strong> and <strong>h</strong> the width and height of the element. The leading <strong>@</strong>-symbol marks these coordinates as absolute.</p><p>The <a class="tc-tiddlylink tc-tiddlylink-resolves" href="ButtonWidget.html">ButtonWidget</a> has an option (<strong>popupAbsCoords</strong>) to put absolute coordinates into the state tiddler. The <a class="tc-tiddlylink tc-tiddlylink-resolves" href="DraggableWidget.html">DraggableWidget</a> and the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="EventCatcherWidget.html">EventCatcherWidget</a> provide the absolute coordinate of an event within the attribute <code>tv-popup-abs-coords</code>.</p><h2 class="">Example</h2><p>The following example shows a popup that is triggered from within a table cell. The table cell is the nearest positioned ancestor element. The popup was defined outside the table cell. The button using relative coordinates will open the popup in the wrong location because the button and the popup do not agree on the same coordinate system. Using absolute coordinates fixes this problem.</p><div class="doc-example"><p><div style="position: relative;"><div style="position: absolute; bottom: 0; right: 0;"><button class="tc-btn-invisible" title="Copie ce texte dans le presse-papier"><svg class="tc-image-copy-clipboard tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><rect height="8" rx="4" width="33" x="40" y="40"></rect><rect height="8" rx="4" width="17" x="40" y="82"></rect><rect height="8" rx="4" width="17" x="40" y="54"></rect><rect height="8" rx="4" width="33" x="40" y="96"></rect><rect height="8" rx="4" width="12" x="40" y="68"></rect><path d="M40 16H24c-4.419 0-8 3.59-8 8a8.031 8.031 0 000 .01v95.98a8.03 8.03 0 000 .01c0 4.41 3.581 8 8 8h80a7.975 7.975 0 005.652-2.34 7.958 7.958 0 002.348-5.652v-16.016c0-4.414-3.582-7.992-8-7.992-4.41 0-8 3.578-8 7.992V112H32V32h64v8.008C96 44.422 99.582 48 104 48c4.41 0 8-3.578 8-7.992V23.992a7.963 7.963 0 00-2.343-5.651A7.995 7.995 0 00104.001 16H88c0-4.41-3.585-8-8.007-8H48.007C43.588 8 40 11.582 40 16zm4-1.004A4.001 4.001 0 0148 11h32c2.21 0 4 1.797 4 3.996v4.008A4.001 4.001 0 0180 23H48c-2.21 0-4-1.797-4-3.996v-4.008z"></path><rect height="16" rx="8" width="66" x="62" y="64"></rect><path d="M84.657 82.343l-16-16v11.314l16-16a8 8 0 10-11.314-11.314l-16 16a8 8 0 000 11.314l16 16a8 8 0 1011.314-11.314z"></path></g></svg> copier dans le presse-papier</button></div></div></p><pre><code>&lt;$reveal type="popup" state="$:/state/CoordinateSampleReveal"&gt;
&lt;div class="tc-drop-down"&gt;
Popup
&lt;/div&gt;
&lt;/$reveal&gt;

| Table Row 1 |&lt;$button popup="$:/state/CoordinateSampleReveal"&gt;Relative coordinates&lt;/$button&gt;|
| Table Row 2 |&lt;$button popup="$:/state/CoordinateSampleReveal" popupAbsCoords="yes"&gt;Absolute coordinates&lt;/$button&gt;|</code></pre><p>Affichera ceci :</p><p><span class=" tc-reveal" hidden="true"></span></p><table><tbody><tr class="evenRow"><td align="center">Table Row 1</td><td><button aria-expanded="false" class="">Relative coordinates</button></td></tr><tr class="oddRow"><td align="center">Table Row 2</td><td><button aria-expanded="false" class="">Absolute coordinates</button></td></tr></tbody></table></div></div>

</div></p>
</section>
</body>
</html>

