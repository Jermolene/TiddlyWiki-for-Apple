<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.3.2-prerelease" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>WebServer: TiddlyWiki — un carnet de notes web personnel et non linéaire
</title>
</head>
<body class="tc-body">
<p><div class="tc-static-alert"><div class="tc-static-alert-inner">This page is part of a static HTML representation of the TiddlyWiki at <a class="tc-tiddlylink-external" href="https://tiddlywiki.com/" rel="noopener noreferrer" target="_blank">https://tiddlywiki.com/</a></div></div>
</p>
<section class="tc-story-river tc-static-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists  tc-tagged-ListenCommand tc-tagged-ServerCommand tc-tagged-Features" data-tags="ListenCommand ServerCommand Features" data-tiddler-title="WebServer" role="article"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><button aria-expanded="false" aria-label="plus" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="Actions supplémentaires"></button><div class=" tc-reveal" hidden="true"></div><button aria-label="éditer" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Édite ce tiddler"></button><button aria-label="fermer" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Ferme ce tiddler"></button></span><span><h2 class="tc-title">WebServer</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class="tc-reveal"></div><div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a> 16 décembre 2018 à 18h19</div></div><div class=" tc-reveal"><div class="tc-tags-wrapper"><span class="tc-tag-list-item" data-tag-title="Features"><span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:#1e90ff;
fill:#ffffff;
color:#ffffff;"><svg class="tc-image-globe tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><g fill-rule="evenodd"><path d="M72.811 37.128v2.554c0 2.196.978 6.881 0 8.832-1.466 2.928-4.65 3.54-6.394 5.867-1.182 1.577-4.618 10.601-3.69 12.92 3.969 9.922 11.534 3.187 17.962 9.293.864.821 2.887 2.273 3.296 3.296 3.29 8.223-7.576 15.009 3.757 26.3 1.245 1.24 3.813-3.817 4.079-4.614.852-2.563 6.725-5.45 9.088-7.053 2.02-1.37 4.873-2.667 6.328-4.745 2.27-3.244 1.48-7.514 3.098-10.745 2.139-4.274 3.828-9.635 5.998-13.966 3.898-7.781 4.721 2.093 5.067 2.439.358.357 1.011 0 1.517 0 .094 0 1.447.099 1.516 0 .65-.935-1.043-17.92-1.318-19.297-1.404-7.01-6.944-15.781-11.865-20.5-6.274-6.015-7.09-16.197-18.259-14.954-.204.022-5.084 10.148-7.777 13.512-3.728 4.657-2.47-4.153-6.526-4.153-.081 0-1.183-.103-1.253 0-.586.88-1.44 3.896-2.306 4.417-.265.16-1.722-.239-1.846 0-2.243 4.3 8.256 2.212 5.792 7.952-2.352 5.481-6.328-1.997-6.328 8.56M44.467 7.01c9.685 6.13.682 12.198 2.694 16.215 1.655 3.303 4.241 5.395 1.714 9.814-2.063 3.608-6.87 3.966-9.623 6.723-3.04 3.044-5.464 8.94-6.79 12.911-1.617 4.843 14.547 6.866 12.063 11.008-1.386 2.311-6.746 1.466-8.437.198-1.165-.873-3.593-.546-4.417-1.78-2.613-3.915-2.26-8.023-3.625-12.128-.938-2.822-6.313-2.12-7.844-.593-.523.522-.33 1.792-.33 2.505 0 5.285 7.12 3.316 7.12 6.46 0 14.636 3.927 6.534 11.14 11.336 10.036 6.683 7.844 7.303 14.946 14.404 3.673 3.673 7.741 3.686 9.425 9.294 1.602 5.331-9.327 5.339-11.716 7.448-1.123.991-2.813 4.146-4.219 4.615-1.792.598-3.234.496-4.944 1.78-2.427 1.82-3.9 4.932-4.02 4.81-2.148-2.147-3.52-15.479-3.89-18.257-.588-4.42-5.59-5.54-6.986-9.03-1.57-3.927 1.524-9.52-1.129-13.761-6.52-10.424-11.821-14.5-15.35-26.292-.942-3.148 3.342-6.529 4.877-8.833 1.877-2.816 2.662-5.854 4.746-8.635C22.147 24.19 40.855 9.461 43.857 8.635l.61-1.625z"></path><path d="M64 126c34.242 0 62-27.758 62-62 0-34.242-27.758-62-62-62C29.758 2 2 29.758 2 64c0 34.242 27.758 62 62 62zm0-6c30.928 0 56-25.072 56-56S94.928 8 64 8 8 33.072 8 64s25.072 56 56 56z"></path></g></svg>Fonctionnalités</span><span class="tc-drop-down tc-reveal" hidden="true"></span></span><span class="tc-tag-list-item" data-tag-title="ListenCommand"><span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:#333333;
color:#333333;">ListenCommand</span><span class="tc-drop-down tc-reveal" hidden="true"></span></span><span class="tc-tag-list-item" data-tag-title="ServerCommand"><span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:#333333;
color:#333333;">ServerCommand</span><span class="tc-drop-down tc-reveal" hidden="true"></span></span></div></div>






<div class="tc-tiddler-body tc-reveal"><p>When <a class="tc-tiddlylink tc-tiddlylink-resolves" href="TiddlyWiki%2520on%2520Node.js.html">running under Node.js</a>, <a class="tc-tiddlylink tc-tiddlylink-resolves" href="TiddlyWiki.html">TiddlyWiki</a> includes a simple HTTP/HTTPS web server that allows you to use it from any browser running on the same machine or over a network.</p><p><div class="doc-icon-block"><div class="doc-block-icon"><svg class="tc-image-tip tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt"><path d="M64 128.242c35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64-35.346 0-64 28.654-64 64 0 35.346 28.654 64 64 64zm11.936-36.789c-.624 4.129-5.73 7.349-11.936 7.349-6.206 0-11.312-3.22-11.936-7.349C54.33 94.05 58.824 95.82 64 95.82c5.175 0 9.67-1.769 11.936-4.366zm0 4.492c-.624 4.13-5.73 7.349-11.936 7.349-6.206 0-11.312-3.22-11.936-7.349 2.266 2.597 6.76 4.366 11.936 4.366 5.175 0 9.67-1.769 11.936-4.366zm0 4.456c-.624 4.129-5.73 7.349-11.936 7.349-6.206 0-11.312-3.22-11.936-7.349 2.266 2.597 6.76 4.366 11.936 4.366 5.175 0 9.67-1.769 11.936-4.366zm0 4.492c-.624 4.13-5.73 7.349-11.936 7.349-6.206 0-11.312-3.22-11.936-7.349 2.266 2.597 6.76 4.366 11.936 4.366 5.175 0 9.67-1.769 11.936-4.366zM64.3 24.242c11.618 0 23.699 7.82 23.699 24.2S75.92 71.754 75.92 83.576c0 5.873-5.868 9.26-11.92 9.26s-12.027-3.006-12.027-9.26C51.973 71.147 40 65.47 40 48.442s12.683-24.2 24.301-24.2z" fill-rule="evenodd"></path></svg></div> The web server includes a very simple mechanism allowing multiple users to log in with different credentials. The implementation is designed to be simple and easy to use, and would not generally be considered robust enough for use on the open internet. It is intended for use by individuals or small groups on a trusted network. It is recommended to use an external proxy before exposing it on the Internet.</div></p><h1 class="">How It Works</h1><p>The web server listens for requests coming over the network, and performs the following actions in turn:</p><ul><li><a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Authentication.html">Authentication</a> is the process of identifying the current user. <a class="tc-tiddlylink tc-tiddlylink-resolves" href="TiddlyWiki.html">TiddlyWiki</a> supports three types of authentication: <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Anonymous%2520Access.html">Anonymous</a>, <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Basic%2520Authentication.html">Basic</a> and <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Header%2520Authentication.html">Header</a></li><li><a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Authorization.html">Authorization</a> is the process of determining which resources may be accessed by a particular user. <a class="tc-tiddlylink tc-tiddlylink-resolves" href="TiddlyWiki.html">TiddlyWiki</a> implements a simple scheme whereby read and write access to the wiki can be independently controlled.</li><li>Routing is the process of dispatching the request to the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520API.html">API handler</a>, and returning any required data.</li></ul><h1 class="">Usage</h1><h2 class="">Anonymous Access </h2><p>The web server is started with the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="ListenCommand.html">ListenCommand</a> (which supersedes the older <a class="tc-tiddlylink tc-tiddlylink-resolves" href="ServerCommand.html">ServerCommand</a>). All 
the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="NamedCommandParameters.html">NamedCommandParameters</a> are optional, so the simplest form is:</p><pre><code>tiddlywiki mywikifolder --listen</code></pre><p>Visit <a class="tc-tiddlylink-external" href="http://127.0.0.1:8080/" rel="noopener noreferrer" target="_blank">http://127.0.0.1:8080/</a> to access the wiki. Access is anonymous, so anyone can read or write to the wiki.</p><p>This will typically be available only to users on the local machine. For information on how to open the instance to the local network see the Web Server <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520host.html">host</a> parameter entry. </p><h2 class="">Authenticated Access</h2><p>Adding <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520username.html">username</a> and <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520password.html">password</a> parameters enforces basic authentication for both reading and writing:</p><pre><code>tiddlywiki mywikifolder --listen username=test password=tset</code></pre><p>Visiting the wiki will prompt for a username and password, and access is denied if they do not match the provided credentials.</p><h2 class="">Anonymous Read, Authenticated Write</h2><p>This example adds the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Authorization.html">authorization</a> parameters <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520readers.html">readers</a> and <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520writers.html">writers</a> to grant read access to anonymous users, but require authentication as "joe" in order to gain write access.</p><blockquote><div>Note that anonymous users can trigger a username/password prompt by visiting the route <code>\login-basic</code> (eg <a class="tc-tiddlylink-external" href="http://127.0.0.1:8080/login-basic" rel="noopener noreferrer" target="_blank">http://127.0.0.1:8080/login-basic</a>).</div></blockquote><pre><code>tiddlywiki mywikifolder --listen "readers=(anon)" writers=joe username=joe password=bloggs</code></pre><p>Note  the double quotes that are required for parameters containing special characters.</p><h1 class="">Arguments</h1><p>The full list of available optional parameters is:</p><p><ul class="">

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520admin.html">
admin
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520anon-username.html">
anon-username
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520authenticated-user-header.html">
authenticated-user-header
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520credentials.html">
credentials
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520csrf-disable.html">
csrf-disable
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520debug-level.html">
debug-level
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520host.html">
host
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520password.html">
password
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520path-prefix.html">
path-prefix
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520port.html">
port
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520readers.html">
readers
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520required-plugins.html">
required-plugins
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520root-render-type.html">
root-render-type
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520root-serve-type.html">
root-serve-type
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520root-tiddler.html">
root-tiddler
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520system-tiddler-render-template.html">
system-tiddler-render-template
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520system-tiddler-render-type.html">
system-tiddler-render-type
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520tiddler-render-template.html">
tiddler-render-template
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520tiddler-render-type.html">
tiddler-render-type
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520tls-cert.html">
tls-cert
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520tls-key.html">
tls-key
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520tls-passphrase.html">
tls-passphrase
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520username.html">
username
</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer%2520Parameter%253A%2520writers.html">
writers
</a>
</li>

</ul></p><h1 class="">Guides</h1><p>Further information on usage of the integrated <a class="tc-tiddlylink tc-tiddlylink-resolves" href="WebServer.html">WebServer</a>:</p><p><ul class="">

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="TiddlyWeb%2520JSON%2520tiddler%2520format.html">


TiddlyWeb JSON tiddler format


</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="Using%2520HTTPS.html">


Using HTTPS


</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="Using%2520the%2520external%2520JavaScript%2520template.html">


Using the external JavaScript template


</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="Using%2520the%2520integrated%2520static%2520file%2520server.html">


Using the integrated static file server


</a>
</li>

<li>
<a class="tc-tiddlylink tc-tiddlylink-resolves" href="Using%2520the%2520read-only%2520single%2520tiddler%2520view.html">


Using the read-only single tiddler view


</a>
</li>

</ul></p></div>

</div></p>
</section>
</body>
</html>

